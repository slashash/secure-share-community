{"version":3,"sources":["components/collapse.js"],"names":["dmx","Component","initialData","collapsed","attributes","show","type","Boolean","default","methods","toggle","this","_instance","hide","events","Event","shown","hidden","init","node","classList","add","addEventListener","dispatchEvent","bind","_shownHandler","_hiddenHandler","options","hasAttribute","parent","getAttribute","bootstrap","Collapse","props","destroy","dispose","performUpdate","updatedProps","has","set"],"mappings":";;;;;;AAAAA,IAAAC,UAAA,eAAA,CAEAC,YAAA,CACAC,WAAA,GAGAC,WAAA,CACAC,KAAA,CACAC,KAAAC,QACAC,SAAA,IAIAC,QAAA,CACAC,SACAC,KAAAC,UAAAF,QACA,EAEAL,OACAM,KAAAC,UAAAP,MACA,EAEAQ,OACAF,KAAAC,UAAAC,MACA,GAGAC,OAAA,CACAT,KAAAU,MACAC,MAAAD,MACAF,KAAAE,MACAE,OAAAF,OAGAG,KAAAC,GACAA,EAAAC,UAAAC,IAAA,YAEAF,EAAAG,iBAAA,mBAAAX,KAAAY,cAAAC,KAAAb,KAAA,SACAQ,EAAAG,iBAAA,oBAAAX,KAAAY,cAAAC,KAAAb,KAAA,UACAQ,EAAAG,iBAAA,mBAAAX,KAAAY,cAAAC,KAAAb,KAAA,SACAQ,EAAAG,iBAAA,qBAAAX,KAAAY,cAAAC,KAAAb,KAAA,WAEAQ,EAAAG,iBAAA,oBAAAX,KAAAc,cAAAD,KAAAb,OACAQ,EAAAG,iBAAA,qBAAAX,KAAAe,eAAAF,KAAAb,OAEA,MAAAgB,EAAA,CAAAjB,QAAA,GAEAS,EAAAS,aAAA,oBACAD,EAAAE,OAAAV,EAAAW,aAAA,mBAGAnB,KAAAC,UAAA,IAAAmB,UAAAC,SAAAb,EAAAQ,GACAhB,KAAAC,UAAAD,KAAAsB,MAAA5B,KAAA,OAAA,SACA,EAEA6B,UACAvB,KAAAC,UAAAuB,SACA,EAEAC,cAAAC,GACAA,EAAAC,IAAA,UACA3B,KAAAC,UAAAD,KAAAsB,MAAA5B,KAAA,OAAA,UACAM,KAAA4B,IAAA,aAAA5B,KAAAsB,MAAA5B,MAEA,EAEAoB,gBACAd,KAAA4B,IAAA,aAAA,EACA,EAEAb,iBACAf,KAAA4B,IAAA,aAAA,EACA","file":"dmxBootstrap5Collapse.js","sourcesContent":["dmx.Component('bs5-collapse', {\r\n\r\n  initialData: {\r\n    collapsed: true\r\n  },\r\n\r\n  attributes: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    toggle () {\r\n      this._instance.toggle();\r\n    },\r\n\r\n    show () {\r\n      this._instance.show();\r\n    },\r\n\r\n    hide () {\r\n      this._instance.hide();\r\n    }\r\n  },\r\n\r\n  events: {\r\n    show: Event,\r\n    shown: Event,\r\n    hide: Event,\r\n    hidden: Event\r\n  },\r\n\r\n  init (node) {\r\n    node.classList.add('collapse');\r\n\r\n    node.addEventListener('show.bs.collapse', this.dispatchEvent.bind(this, 'show'));\r\n    node.addEventListener('shown.bs.collapse', this.dispatchEvent.bind(this, 'shown'));\r\n    node.addEventListener('hide.bs.collapse', this.dispatchEvent.bind(this, 'hide'));\r\n    node.addEventListener('hidden.bs.collapse', this.dispatchEvent.bind(this, 'hidden'));\r\n\r\n    node.addEventListener('shown.bs.collapse', this._shownHandler.bind(this));\r\n    node.addEventListener('hidden.bs.collapse', this._hiddenHandler.bind(this));\r\n\r\n    const options = { toggle: false };\r\n\r\n    if (node.hasAttribute('data-bs-parent')) {\r\n      options.parent = node.getAttribute('data-bs-paernt');\r\n    }\r\n\r\n    this._instance = new bootstrap.Collapse(node, options);\r\n    this._instance[this.props.show ? 'show' : 'hide']();\r\n  },\r\n\r\n  destroy () {\r\n    this._instance.dispose();\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    if (updatedProps.has('show')) {\r\n      this._instance[this.props.show ? 'show' : 'hide']();\r\n      this.set('collapsed', !this.props.show);\r\n    }\r\n  },\r\n\r\n  _shownHandler () {\r\n    this.set('collapsed', false);\r\n  },\r\n\r\n  _hiddenHandler () {\r\n    this.set('collapsed', true);\r\n  },\r\n\r\n});\r\n"]}